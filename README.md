## UpdateHistoricoAlerta

UpdateHistoricoAlerta is a tool designed to automate the process of copying SQL script files generated by AlertTools and sending them to a server for database updates.

### Commands

#### Install ansible and create environment
```
make install
```
#### Create an encrypted file with variables to connect to the server
```
make create-vault-config
```
*Add your variable keys:*
> simple vault example
```
cluster_node_hetzner: 127.0.0.1
cluster_node_fgv: 127.0.0.2
cluster_node_port: 2222
cluster_sudo_passwd: 123456
cluster_user_name: userhost
psql_host: psqlhost
psql_port: psqlport
psql_db: psqldatabase
psql_user: psqluser
psql_passwd: psqlpasswd
```

####  Run the sql script on the target server
*Note that the **disease** variables and **yearweek** are defined following the **make run** command*
```
make run disease=zika yearweek=201609
```

#### How to change encrypted file variables? *(if necessary)*
```
make change-vault-config
```

#### Change only the vault password

```
make change-vault-passwd
```
